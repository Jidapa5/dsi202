{% extends 'outfits/base.html' %}
{% load static %}

{% block title %}Login - MindVibe{% endblock %}

{% block content %}
<div class="auth-container">
  <h2>Login</h2>

  {% if form.errors %}
    <div class="alert alert-danger" role="alert">
      Your username and password didn't match. Please try again.
    </div>
  {% endif %}

  {% if next %}
    {% if user.is_authenticated %}
      <p class="alert alert-warning">Your account doesn't have access to this page. To proceed, please login with an account that has access.</p>
    {% else %}
      <p class="alert alert-info">Please login to see this page.</p>
    {% endif %}
  {% endif %}

  <form method="post" action="{% url 'login' %}" class="auth-form">
    {% csrf_token %}

    <div class="form-field">
      <label for="{{ form.username.id_for_label }}">Username:</label>
      {{ form.username }}
    </div>

    <div class="form-field">
      <label for="{{ form.password.id_for_label }}">Password:</label>
      {{ form.password }}
    </div>

    <input type="hidden" name="next" value="{{ next }}">

    <button type="submit" class="button primary-button" style="width: 100%; padding: 10px; margin-top: 10px;">Login</button>
  </form>

  <div style="text-align: center; margin-top: 20px; font-size: 0.9em;">
    <p><a href="{% url 'password_reset' %}">Forgot password?</a></p>
    <p style="margin-top: 10px;">Don't have an account? <a href="{% url 'outfits:register' %}">Sign up here</a></p>
  </div>
</div>
{% endblock %}