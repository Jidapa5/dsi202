{% load static %} {# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ tag ‡∏ô‡∏µ‡πâ #}
{% load humanize %} {# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ tag ‡∏ô‡∏µ‡πâ #}
<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MindVibe - ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡πÄ‡∏ä‡πà‡∏≤‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏∏‡∏ì">
    <title>{% block title %}MindVibe{% endblock %}</title>
    {# --- ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏¢‡∏±‡∏á CSS --- #}
    <link rel="stylesheet" href="{% static 'outfits/styles.css' %}">
    {# --- Block ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏™‡πà CSS ‡∏´‡∏£‡∏∑‡∏≠ JS ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏ô Head --- #}
    {% block extra_head %}{% endblock %}
</head>
<body>
    <header class="site-header" style="background-color: #fff; box-shadow: var(--shadow); padding: 15px 0;">
        <div class="header-inner container" style="display: flex; justify-content: space-between; align-items: center;">
            <a href="{% url 'outfits:home' %}" class="logo" style="text-decoration: none; color: var(--primary-color); font-weight: bold; font-size: 1.5em;">MindVibe</a>
            <nav class="main-nav">
                <a href="{% url 'outfits:home' %}" class="nav-link">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
                <a href="{% url 'outfits:outfit-list' %}" class="nav-link">‡∏ä‡∏∏‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</a>
                {# --- ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡πÄ‡∏õ‡πá‡∏ô Dropdown (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á) --- #}
                {# <div class="dropdown">
                    <button class="nav-link dropbtn">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</button>
                    <div class="dropdown-content">
                        {% for category in categories %} {# ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡∏°‡∏µ categories ‡∏™‡πà‡∏á‡∏°‡∏≤‡∏à‡∏≤‡∏Å context #}
                           {# <a href="{% url 'outfits:outfits-by-category' category.slug %}">{{ category.name }}</a>
                        {% endfor %}
                    </div>
                </div> #}
                <a href="{% url 'outfits:cart_detail' %}" class="nav-link cart-link" style="position: relative;">
                    üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                    {# --- ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (‡∏à‡∏≤‡∏Å context processor) --- #}
                    {% if cart_item_count > 0 %}
                        <span class="cart-badge" style="position: absolute; top: -5px; right: -10px; background-color: red; color: white; border-radius: 50%; padding: 1px 5px; font-size: 0.7em;">{{ cart_item_count }}</span>
                    {% endif %}
                </a>
                {% if user.is_authenticated %}
                    <a href="{% url 'outfits:order_history' %}" class="nav-link">‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡πà‡∏≤</a>
                    {# --- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Profile --- #}
                    <a href="{% url 'outfits:user_profile' %}" class="nav-link user-greeting">üë§ {{ user.first_name|default:user.username }}</a>
                    <form action="{% url 'logout' %}" method="post" class="logout-form" style="display: inline; margin-left: 10px;">
                        {% csrf_token %}
                        <button type="submit" class="button link-button">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
                    </form>
                {% else %}
                    <a href="{% url 'login' %}" class="nav-link auth-link">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</a>
                    <a href="{% url 'outfits:register' %}" class="nav-link auth-link">‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</a>
                {% endif %}
            </nav>
             {# --- ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° Hamburger Menu ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Mobile View --- #}
        </div>
    </header>

    {# --- ‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° Messages ‡∏à‡∏≤‡∏Å Django --- #}
    {% if messages %}
        <div class="messages-container container" style="padding-top: 10px;">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}" role="alert" style="padding: 10px 15px; margin-bottom: 15px; border-radius: 8px; border-left: 5px solid;">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    {# --- ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤ --- #}
    <main class="container main-content" style="padding-top: 20px; padding-bottom: 40px; min-height: 70vh;">
        {% block content %}
        {# ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏¢‡πà‡∏≠‡∏¢‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÉ‡∏™‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ #}
        {% endblock %}
    </main>

    <footer class="site-footer" style="background-color: #f8f9fa; padding: 20px 0; text-align: center; margin-top: 30px; border-top: 1px solid #eee;">
        <div class="container">
            <p>&copy; {% now "Y" %} MindVibe. All rights reserved.</p>
            {# ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏ä‡πà‡∏ô ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤, ‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß #}
        </div>
    </footer>

    {# --- Block ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏™‡πà JavaScript ‡∏ó‡πâ‡∏≤‡∏¢ Body --- #}
    {% block extra_js %}{% endblock %}
</body>
</html>

<style>
    /* ‡πÄ‡∏û‡∏¥‡πà‡∏° CSS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Nav Link ‡πÅ‡∏•‡∏∞‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ (‡∏Ñ‡∏ß‡∏£‡∏¢‡πâ‡∏≤‡∏¢‡πÑ‡∏õ styles.css) */
    .nav-link {
        margin-left: 15px;
        text-decoration: none;
        color: var(--text-color);
        padding: 5px 0;
        transition: color 0.2s ease;
    }
    .nav-link:hover {
        color: var(--primary-color);
    }
    .auth-link {
        margin-left: 10px;
        padding: 6px 12px;
        border: 1px solid var(--primary-color);
        border-radius: var(--border-radius);
        color: var(--primary-color);
    }
     .auth-link:hover {
         background-color: var(--primary-color);
         color: white;
     }
     .logout-form button { vertical-align: middle; }

    /* Alert message styling (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡∏Ñ‡∏ß‡∏£‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô styles.css) */
    .alert { border-radius: var(--border-radius); padding: 10px 15px; margin-bottom: 15px; border-left-width: 5px; border-left-style: solid; }
    .alert-success { background-color: #d4edda; border-color: #28a745; color: #155724;}
    .alert-error, .alert-danger { background-color: #f8d7da; border-color: #dc3545; color: #721c24;}
    .alert-info { background-color: #d1ecf1; border-color: #17a2b8; color: #0c5460;}
    .alert-warning { background-color: #fff3cd; border-color: #ffc107; color: #856404;}

</style>