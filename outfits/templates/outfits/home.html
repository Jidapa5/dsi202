{% extends 'outfits/base.html' %}
{% load static %}
{% load humanize %} {# ต้องมี load humanize ถ้าใช้ intcomma #}

{% block title %}หน้าแรก - MindVibe{% endblock %}

{% block content %}
<section class="hero">
    <div class="hero-content">
        <h1>Welcome to MindVibe!</h1>
        <p class="tagline">ค้นหาและเช่าชุดที่ใช่ สไตล์ที่เป็นคุณ</p>
        <a href="{% url 'outfits:outfit-list' %}" class="button primary-button">ดูรายการชุด</a>
    </div>
</section>

{# --- ส่วนแสดงสินค้าแนะนำ (เอาคอมเมนต์ออก) --- #}
{% if featured_outfits %}
    <section class="featured-outfits" style="margin-top: 30px;">
        <h2>ชุดแนะนำ</h2>
        <div class="outfit-list-grid"> {# ใช้ class สำหรับ grid layout #}
            {% for outfit in featured_outfits %}
                <div class="outfit-item-card"> {# ใช้ class สำหรับ card #}
                    <a href="{% url 'outfits:outfit-detail' outfit.pk %}">
                        {% if outfit.image %}
                            <img src="{{ outfit.image.url }}" alt="{{ outfit.name }}" class="outfit-card-image">
                        {% else %}
                             <div class="outfit-card-no-image">(ไม่มีรูป)</div>
                        {% endif %}
                        <div class="outfit-card-body">
                            <h4 class="outfit-card-title">{{ outfit.name }}</h4>
                            {% if outfit.category %}
                                <p class="outfit-card-category">{{ outfit.category.name }}</p>
                            {% endif %}
                            <p class="outfit-card-price">{{ outfit.price|floatformat:2|intcomma }} บาท/วัน</p>
                        </div>
                    </a>
                    {# เพิ่มปุ่ม Add to cart (เอาคอมเมนต์ออก) #}
                    <form action="{% url 'outfits:add_to_cart' outfit.id %}" method="post" style="text-align:center; padding-bottom: 10px;">
                        {% csrf_token %}
                        <input type="hidden" name="quantity" value="1">
                        <button type="submit" class="button secondary-button small-button">เพิ่มลงตะกร้า</button>
                    </form>
                </div>
            {% endfor %}
        </div>
    </section>
{% endif %}
{# --- สิ้นสุดส่วนแสดงสินค้าแนะนำ --- #}

{% endblock %}